# FLOW - タクシー需要予測アプリ

## プロジェクト概要
大阪のタクシードライバー向けの需要予測PWAアプリ。イベント情報、過去の乗車実績、ホテル・ロングスポットを地図上に表示し、最適な待機場所をナビゲーションする。

## 技術スタック
- フロントエンド: バニラHTML/CSS/JavaScript（フレームワークなし）
- 地図: Mapbox GL JS
- データベース: Supabase（PostgreSQL）
- ホスティング: Netlify
- PWA対応（ホーム画面インストール可能）

## Supabaseテーブル構造
- `flow_events`: イベント情報（会場、日時、収容人数、座標）
- `flow_manual_events`: 手動登録イベント
- `flow_venues`: 会場マスタ（名前、座標、収容人数）
- `flow_taxi_logs`: 乗車ログ（日付、時間、エリア、運賃、アプリ種別、降車エリア、メモ）

## アプリ構成（4タブ）
1. **イベント**（📅）: 今日のイベント一覧、会場のGoogle Mapsナビ起動
2. **スポット**（🔥）: 時間帯×曜日の過去実績ヒートマップ、ホットスポット表示
3. **ナビ**（🧭）: イベント終了カウントダウン + ホテル + ロングスポットの統合地図、ボトムシート式リスト
4. **収益**（📊）: 売上ダッシュボード、アプリ別売上、月別推移

## デザインルール
- **ダークテーマ**: 背景 #0a0a0f、カード背景 rgba(10,10,20,0.88)
- **メインカラー**: #00e676（緑）- ナビボタン、アクセント
- **イベント系**: #ff9800（オレンジ）、緊急 #ff1744（赤）
- **ホテル系**: #9c27b0（紫）
- **ロング系**: #2196f3（青）
- **カード**: backdrop-filter: blur(12px)、border-radius: 12-14px
- **フォント**: Noto Sans JP
- **ナビボタン**: 緑の丸ボタン、タップでGoogle Mapsナビ起動

## 地図設定
- 初期表示: 大阪市中心部（34.6937, 135.5023）、ズーム13
- スタイル: Mapbox Dark
- ズームコントロール: 右上
- 現在地ボタン: 右下（ボトムシートと被らない位置）

## デプロイ
- Netlifyに自動デプロイ（GitHub連携）
- サイト: jovial-sunflower-fc26bd.netlify.app
- ブランチ: main

## コーディング規約
- 日本語コメント推奨
- CSSはインラインまたはHTML内の<style>タグ（外部CSSファイルなし）
- JavaScriptもHTML内の<script>タグまたは同一ディレクトリのjsファイル
- Supabaseの接続情報はコード内に直接記載（個人プロジェクトのため）
- commit後は必ずpushすること

## 注意事項
- +ボタン（LINE追加）はイベントタブのみ表示
- PWAのmanifest.jsonとservice-worker.jsを壊さないこと
- iPhoneのsafe-area-inset-bottomを考慮すること
- 運転中にチラ見する想定なので、重要情報は大きく太く表示
